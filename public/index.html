<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rocket UNO - Online Multiplayer</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Lobby Screen -->
  <div id="lobby" class="screen active">
    <div class="lobby-header">
      <h1>üöÄ Rocket UNO</h1>
      <a href="/wiki" class="wiki-btn">üìñ Wiki</a>
    </div>
    
    <div class="container">
      <!-- Player Name Section -->
      <div class="lobby-section">
        <h2>Player Name</h2>
        <input type="text" id="playerName" placeholder="Enter your name" maxlength="20">
      </div>

      <!-- Room Selection Section -->
      <div class="lobby-section">
        <h2>Join a Game</h2>
        
        <div class="room-options">
          <div class="option-group">
            <h3>Create New Room</h3>
            <p>Start a new game and invite friends</p>
            <button id="createRoomBtn" class="btn btn-primary">Create Room</button>
          </div>

          <div class="divider">OR</div>

          <div class="option-group">
            <h3>Join Existing Room</h3>
            <p>Join a friend's game with a room code</p>
            <input type="text" id="roomCode" placeholder="Enter room code" maxlength="6">
            <button id="joinRoomBtn" class="btn btn-secondary">Join Room</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Waiting Room -->
  <div id="waitingRoom" class="screen">
    <div class="waiting-header">
      <button class="back-btn">‚Üê Leave Room</button>
      <h1>Waiting Room</h1>
    </div>
    <div class="container">
      <div class="room-info">
        <h2>Room Code: <span id="displayRoomCode" class="room-code-display"></span></h2>
        <button id="copyCodeBtn" class="btn btn-small">Copy Code</button>
      </div>
      
      <div class="players-list">
        <h2>Players (<span id="playerCount">0</span>/<span id="maxPlayers">10</span>)</h2>
        <ul id="playersList" class="player-list"></ul>
      </div>
      
      <div class="room-actions">
        <button id="startGameBtn" class="btn btn-primary" style="display:none;">Start Game</button>
        <p id="waitingMessage" style="display:none;">‚è≥ Waiting for room host to start the game...</p>
      </div>
    </div>
  </div>

  <!-- Game Screen -->
  <div id="game" class="screen">
    <!-- Turn Notification Banner -->
    <div id="turnBanner" class="turn-banner" style="display:none;">YOUR TURN!</div>
    
    <div class="game-container">
      <!-- Top Bar -->
      <div class="top-bar">
        <div class="room-code">Room: <span id="gameRoomCode"></span></div>
        <div class="game-info">
          <span id="deckCount">üÉè 52</span>
          <span id="turnIndicator"></span>
        </div>
      </div>

      <!-- Other Players -->
      <div id="otherPlayers" class="other-players"></div>

      <!-- Game Table -->
      <div class="game-table">
        <div class="discard-pile">
          <div id="topCard" class="card"></div>
          <div id="currentColorIndicator" class="color-indicator"></div>
          <div id="drawStackIndicator" class="draw-stack" style="display:none;"></div>
        </div>
        <div class="deck-pile" id="deckPile">
          <div class="card card-back">üÉè</div>
        </div>
      </div>

      <!-- Current Player's Hand -->
      <div class="player-section">
        <div class="player-info">
          <h3 id="currentPlayerName">You</h3>
          <button id="unoBtn" class="btn btn-uno" style="display:none;">UNO!</button>
        </div>
        <div id="playerHand" class="player-hand"></div>
      </div>
    </div>

    <!-- Color Picker Modal -->
    <div id="colorPicker" class="modal">
      <div class="modal-content">
        <h2>Choose a color</h2>
        <div class="color-options">
          <button class="color-btn red" data-color="red">Red</button>
          <button class="color-btn yellow" data-color="yellow">Yellow</button>
          <button class="color-btn green" data-color="green">Green</button>
          <button class="color-btn blue" data-color="blue">Blue</button>
        </div>
      </div>
    </div>

    <!-- Player Selector Modal -->
    <div id="playerSelector" class="modal">
      <div class="modal-content">
        <h2 id="playerSelectorTitle">Choose a player</h2>
        <div id="playerSelectorList" class="player-selector-list"></div>
      </div>
    </div>

    <!-- Game Over Modal -->
    <div id="gameOver" class="modal">
      <div class="modal-content">
        <h2>üéâ Game Over!</h2>
        <p id="winnerText"></p>
        <button id="backToLobbyBtn" class="btn btn-primary">Back to Lobby</button>
      </div>
    </div>
  </div>

  <!-- Wiki Screen -->
  <div id="wiki" class="screen">
    <div class="wiki-header">
      <button class="back-btn">‚Üê Back to Lobby</button>
      <h1>üìö Card Guide Wiki</h1>
    </div>
    
    <div class="wiki-container">
      <nav class="wiki-nav">
        <div class="wiki-search">
          <input type="text" id="wikiSearch" placeholder="üîç Search cards..." class="search-input">
        </div>
        <h3>Cards</h3>
        <ul id="wikiTOC">
          <!-- Generated by wiki.js -->
        </ul>
      </nav>
      
      <div id="wikiArticles" class="wiki-articles">
        <!-- Generated by wiki.js -->
      </div>
    </div>
  </div>

  <!-- Error Toast -->
  <div id="errorToast" class="toast"></div>
  
  <!-- Custom Effect Toast -->
  <div id="customEffectToast" class="toast custom-effect-toast"></div>

  <script src="/socket.io/socket.io.js"></script>
  <script src="game.js"></script>
  <script src="wiki.js"></script>
</body>
</html>
